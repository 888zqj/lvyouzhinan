import{ad as g,ae as S,e as W,a2 as _}from"./index-de307950.js";function L(e){return g()?(S(e),!0):!1}function I(e){return typeof e=="function"?e():W(e)}const y=typeof window<"u",A=()=>{},O=P();function P(){var e;return y&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function v(e){var u;const t=I(e);return(u=t==null?void 0:t.$el)!=null?u:t}const E=y?window:void 0;function w(...e){let u,t,n,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,n,l]=e,u=E):[u,t,n,l]=e,!u)return A;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const o=[],a=()=>{o.forEach(f=>f()),o.length=0},s=(f,d,i,r)=>(f.addEventListener(d,i,r),()=>f.removeEventListener(d,i,r)),m=_(()=>[v(u),I(l)],([f,d])=>{a(),f&&o.push(...t.flatMap(i=>n.map(r=>s(f,i,r,d))))},{immediate:!0,flush:"post"}),p=()=>{m(),a()};return L(p),p}let h=!1;function F(e,u,t={}){const{window:n=E,ignore:l=[],capture:o=!0,detectIframe:a=!1}=t;if(!n)return;O&&!h&&(h=!0,Array.from(n.document.body.children).forEach(i=>i.addEventListener("click",A)));let s=!0;const m=i=>l.some(r=>{if(typeof r=="string")return Array.from(n.document.querySelectorAll(r)).some(c=>c===i.target||i.composedPath().includes(c));{const c=v(r);return c&&(i.target===c||i.composedPath().includes(c))}}),f=[w(n,"click",i=>{const r=v(e);if(!(!r||r===i.target||i.composedPath().includes(r))){if(i.detail===0&&(s=!m(i)),!s){s=!0;return}u(i)}},{passive:!0,capture:o}),w(n,"pointerdown",i=>{const r=v(e);r&&(s=!i.composedPath().includes(r)&&!m(i))},{passive:!0}),a&&w(n,"blur",i=>{setTimeout(()=>{var r;const c=v(e);((r=n.document.activeElement)==null?void 0:r.tagName)==="IFRAME"&&!(c!=null&&c.contains(n.document.activeElement))&&u(i)},0)})].filter(Boolean);return()=>f.forEach(i=>i())}function b(e,u,t,n){e.value=j(),u.value={},t.value=[];for(let o=0;o<e.value;o++)u.value[o]=[];for(let o=0;o<n.value.length;o++){var l=n.value[o].img_info.height/(n.value[o].img_info.width/250);if(o<e.value)u.value[o].push(n.value[o]),t.value.push(l);else{let a={minH:t.value[0],minI:0};for(let s=0;s<t.value.length;s++)t.value[s]<a.minH&&(a.minH=t.value[s],a.minI=s);u.value[a.minI].push(n.value[o]),t.value[a.minI]+=l}}}function M(e,u,t){for(let l=0;l<t.length;l++){var n=t[l].img_info.height/(t[l].img_info.width/250);let o={minH:e.value[0],minI:0};for(let a=0;a<e.value.length;a++)e.value[a]<o.minH&&(o.minH=e.value[a],o.minI=a);u.value[o.minI].push(t[l]),e.value[o.minI]+=n}}function C(e,u,t,n){var l=null;window.onresize=function(){l&&clearTimeout(l),l=setTimeout(()=>{b(e,u,t,n)},300)}}function j(){var e=document.getElementById("content"),u=e.offsetWidth;return Math.floor(u/280)}export{M as a,F as o,C as r,b as w};
